<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Notificaciones - Punto Pymes</title>
    <link rel="icon" type="image/svg+xml" href="../images/talentrack_small.svg">
    <link rel="stylesheet" href="../css/styles.css">
    <!-- Boxicons -->
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
</head>
<body>
    <div class="header">
        <div class="logo">
            <img src="../images/talenTrackLogo_SVG.svg" alt="Logo" />
            <span>Portal de Empleado</span>
        </div>
        <div class="header-right">
            <div class="notification">üîî</div>
            <div class="avatar"></div>
        </div>
    </div>

    <div class="layout">
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-top">
                <div class="sidebar-item" onclick="window.location.href='controlUsuario.html'">
                    <i class='bx bxs-home' style='color:#d51e37' font-size='28px'></i> 
                    <span>Inicio</span>
                </div>
                <div class="sidebar-item active">
                    <i class='bx bxs-bell' style='color:#d51e37'></i>
                    <span>Notificaciones</span>
                </div>
                <div class="sidebar-item" onclick="window.location.href='asistencia.html'">
                    <i class='bx bxs-check' style='color:#d51e37'></i> 
                    <span>Asistencia</span>
                </div>
                <div class="sidebar-item">
                    <i class='bx bxs-calendar' style='color:#d51e37'></i>
                    <span>Calendario</span>
                </div>
                <div class="sidebar-item">
                    <i class="bx bxs-umbrella" style='color:#d51e37'></i>
                    <span>Permisos y Vacaciones</span>
                </div>
                <div class="sidebar-item">
                    <i class='bx bxs-bar-chart' style='color:#d51e37'></i>
                    <span>Mis KPIs</span>
                </div>
            </div>

            <div class="sidebar-bottom">
                <div class="sidebar-item">
                    <span class="sidebar-icon">‚ùì</span>
                    <span>AYUDA</span>
                </div>
                <div class="sidebar-item">
                    <span class="sidebar-icon">üë§</span>
                    <span>Perfil</span>
                </div>
                <div class="sidebar-item logout">
                    <span class="sidebar-icon">üö™</span>
                    <span>Cerrar Sesi√≥n</span>
                </div>
            </div>

            <button class="toggle-sidebar" onclick="toggleSidebar()">‚óÄ</button>
        </aside>

        <main class="main-content" id="mainContent">
            <div class="notifications-header">
                <div>
                    <h1 class="page-title">Notificaciones</h1>
                    <p class="page-subtitle">Revisa tus alertas y actualizaciones importantes.</p>
                </div>
                <button class="btn-mark-all-read" onclick="markAllAsRead()">
                    Marcar todas como le√≠das
                </button>
            </div>

            <!-- Barra de b√∫squeda y filtros -->
            <div class="notifications-controls">
                <div class="search-box">
                    <span class="search-icon">üîç</span>
                    <input type="text" class="search-input" placeholder="Buscar notificaciones..." id="searchInput" onkeyup="searchNotifications()">
                </div>

                <div class="notification-filters">
                    <button class="filter-btn active" data-filter="all" onclick="filterNotifications('all')">Todas</button>
                    <button class="filter-btn" data-filter="unread" onclick="filterNotifications('unread')">No le√≠das</button>
                    <button class="filter-btn" data-filter="archived" onclick="filterNotifications('archived')">Archivadas</button>
                </div>
            </div>

            <!-- Lista de notificaciones -->
            <div class="notifications-list" id="notificationsList">
                <!-- Notificaci√≥n 1 - No le√≠da -->
                <div class="notification-item unread" data-id="1">
                    <div class="notification-icon notification-icon-document">
                        üìÑ
                    </div>
                    <div class="notification-content">
                        <h3 class="notification-title">Nueva pol√≠tica de vacaciones actualizada</h3>
                        <p class="notification-text">Se ha publicado la versi√≥n 2.1 de la pol√≠tica de vacaciones. Por favor, rev√≠sala para estar al tanto de los cambios.</p>
                        <span class="notification-time">Hace 5 minutos</span>
                    </div>
                    <button class="btn-mark-read" onclick="markAsRead(1)">Marcar como le√≠da</button>
                </div>

                <!-- Notificaci√≥n 2 - No le√≠da -->
                <div class="notification-item unread" data-id="2">
                    <div class="notification-icon notification-icon-calendar">
                        üìÖ
                    </div>
                    <div class="notification-content">
                        <h3 class="notification-title">Recordatorio: Evaluaci√≥n de desempe√±o de Juan P√©rez</h3>
                        <p class="notification-text">La fecha l√≠mite para completar la evaluaci√≥n de desempe√±o es ma√±ana.</p>
                        <span class="notification-time">Hace 2 horas</span>
                    </div>
                    <button class="btn-mark-read" onclick="markAsRead(2)">Marcar como le√≠da</button>
                </div>

                <!-- Notificaci√≥n 3 - Le√≠da -->
                <div class="notification-item read" data-id="3">
                    <div class="notification-icon notification-icon-approval">
                        üëç
                    </div>
                    <div class="notification-content">
                        <h3 class="notification-title">Aprobaci√≥n de solicitud de d√≠as libres</h3>
                        <p class="notification-text">Tu solicitud de vacaciones del 15 al 18 de Agosto ha sido aprobada.</p>
                        <span class="notification-time">Ayer</span>
                    </div>
                    <span class="notification-status">Le√≠da</span>
                </div>

                <!-- Notificaci√≥n 4 - Le√≠da -->
                <div class="notification-item read" data-id="4">
                    <div class="notification-icon notification-icon-celebration">
                        üéâ
                    </div>
                    <div class="notification-content">
                        <h3 class="notification-title">¬°Feliz aniversario de trabajo!</h3>
                        <p class="notification-text">¬°Felicidades por tus 3 a√±os en la empresa! Agradecemos tu dedicaci√≥n y esfuerzo.</p>
                        <span class="notification-time">Hace 2 d√≠as</span>
                    </div>
                    <span class="notification-status">Le√≠da</span>
                </div>

                <!-- Notificaci√≥n 5 - Le√≠da -->
                <div class="notification-item read" data-id="5">
                    <div class="notification-icon notification-icon-info">
                        ‚ÑπÔ∏è
                    </div>
                    <div class="notification-content">
                        <h3 class="notification-title">Actualizaci√≥n del sistema</h3>
                        <p class="notification-text">El sistema estar√° en mantenimiento el pr√≥ximo s√°bado de 2:00 AM a 6:00 AM.</p>
                        <span class="notification-time">Hace 3 d√≠as</span>
                    </div>
                    <span class="notification-status">Le√≠da</span>
                </div>
            </div>
        </main>
    </div>

    <script src="../js/script.js"></script>
    <script>
        // Marcar notificaci√≥n individual como le√≠da
        function markAsRead(id) {
            const notification = document.querySelector(`.notification-item[data-id="${id}"]`);
            if (notification) {
                notification.classList.remove('unread');
                notification.classList.add('read');
                
                const button = notification.querySelector('.btn-mark-read');
                if (button) {
                    button.outerHTML = '<span class="notification-status">Le√≠da</span>';
                }
            }
        }

        // Marcar todas como le√≠das
        function markAllAsRead() {
            const unreadNotifications = document.querySelectorAll('.notification-item.unread');
            unreadNotifications.forEach(notification => {
                notification.classList.remove('unread');
                notification.classList.add('read');
                
                const button = notification.querySelector('.btn-mark-read');
                if (button) {
                    button.outerHTML = '<span class="notification-status">Le√≠da</span>';
                }
            });
            
            if (unreadNotifications.length > 0) {
                alert(`${unreadNotifications.length} notificaciones marcadas como le√≠das`);
            }
        }

        // Filtrar notificaciones
        function filterNotifications(filter) {
            const notifications = document.querySelectorAll('.notification-item');
            const filterButtons = document.querySelectorAll('.filter-btn');
            
            // Actualizar botones activos
            filterButtons.forEach(btn => btn.classList.remove('active'));
            document.querySelector(`[data-filter="${filter}"]`).classList.add('active');
            
            // Filtrar notificaciones
            notifications.forEach(notification => {
                switch(filter) {
                    case 'all':
                        notification.style.display = 'flex';
                        break;
                    case 'unread':
                        notification.style.display = notification.classList.contains('unread') ? 'flex' : 'none';
                        break;
                    case 'archived':
                        // En un caso real, aqu√≠ filtrar√≠as las archivadas
                        notification.style.display = 'none';
                        break;
                }
            });
        }

        // Buscar notificaciones
        function searchNotifications() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const notifications = document.querySelectorAll('.notification-item');
            
            notifications.forEach(notification => {
                const title = notification.querySelector('.notification-title').textContent.toLowerCase();
                const text = notification.querySelector('.notification-text').textContent.toLowerCase();
                
                if (title.includes(searchTerm) || text.includes(searchTerm)) {
                    notification.style.display = 'flex';
                } else {
                    notification.style.display = 'none';
                }
            });
        }
    </script>
</body>
</html>